= Ren'Py ParallaxScroll
:icons: font

link:https://github.com/Foxcapades/renpy-parallax-displayable/releases/latest[Latest Release]
|
link:https://foxcapades.itch.io/parallax-scroll[Itch.io]
|
link:https://github.com/Foxcapades/renpy-parallax-displayable/blob/main/game/lib/fxcpds/parallax_scroll/parallax_ren.py[Source]

Source code and demonstration of a scrolling displayable built on multiple
layers with a parallax effect.

image::docs/preview.gif[]

[IMPORTANT]
--
ParallaxScroll is only compatible with Ren'Py 8.1.1+.
--

== Usage

=== Constructing a ParallaxScroll

[source, python]
----
image foo = ParallaxScroll(
    (1920, 1080),
    ("images/backgrounds/scrolling_forest/10.png", 0.0),    # Doesn't scroll
    ("images/backgrounds/scrolling_forest/08.png", 0.001),
    ("images/backgrounds/scrolling_forest/08.png", 0.0025),
    ("images/backgrounds/scrolling_forest/07.png", 0.005),
    ("images/backgrounds/scrolling_forest/06.png", 0.0075),
    ("images/backgrounds/scrolling_forest/05.png", 0.025),
    ("images/backgrounds/scrolling_forest/04.png", 0.025),
    ("images/backgrounds/scrolling_forest/03.png", 0.05),
    ("images/backgrounds/scrolling_forest/02.png", 0.05),
    ("images/backgrounds/scrolling_forest/01.png", 0.075),
    ("images/backgrounds/scrolling_forest/00.png", 0.1),    # Scrolls 10% of it's width per second
)
----

==== `+__init__+` Signature

.Positional Arguments
--
[cols="1h,2m,7a"]
|===
| dimensions
| tuple[int, int]
| A two-tuple containing the width and height of the displayable in the format
`(width, height)`.

| *layers
| tuple[Displayable, float]
| One or more two-tuples that each contain a displayable to render and a float
which represents the scrolling speed of the layer.

The first value of each tuple MUST be either an instance of renpy.Displayable
(Composite, Image, Transform, etc.) or a string representing the name of or path
to a defined image or an image file.

The second value of each tuple MUST be a float value between `0.0` and `1.0`
inclusive.  This value represents the percent of the layer image's width that
will scroll across the screen per second.

The layers are ordered back to front, meaning the first given layer will be the
furthest from the player while the last given layer will be the closest.
|===
--

.Keyword Arguments
--
[cols="1h,2m,7a"]
|===
| direction
| "left" \| "right"
| A string value that must be one of `"left"` or `"right"` that controls the
direction in which the layers will scroll.

Defaults to `"left"`.

| render_delay
| float
| Controls the delay between Displayable re-renders.

Defaults to `0.01`
|===
--


=== Advanced Usage

The `ParallaxScroll` class extends Ren'Py's `Transform` type, meaning any
normal transform keyword argument is permitted and will be applied to the
`ParallaxScroll`.

For example, the colors of the parallax may be inverted by doing the following:

[source, python]
----
ParallaxScroll(
  ... # dimensions
  ... # layers
  matrixcolor=InvertMatrix(1.0)
)
----

The exception to the above rule is the `crop` keyword argument, which is used
to contain the scrollable within it's configured size boundaries.  Specifying
the `crop` keyword will result in an `Exception` being raised.

== Credits

* link:https://edermunizz.itch.io/free-pixel-art-forest[Background layers] by https://edermunizz.itch.io/[Eder Muniz]

== License

This source code and project are released under the MIT license, which to
paraphrase in a way that is not legally binding:

* You can use it for free things
* You can use it for paid things
* You can modify it however you see fit
* You can redistribute it as you see fit
* Go nuts!

For a better breakdown of what the license actually means see:
https://choosealicense.com/licenses/mit/

I do ask that you credit me in some way, but if you don't I'm not gonna call the
open-source police on you.  If you do choose to credit me you can do so by
providing a link to my link:https://github.com/Foxcapades[GitHub], my
link:https://foxcapades.itch.io/[Itch.io], or just call me Foxcapades.